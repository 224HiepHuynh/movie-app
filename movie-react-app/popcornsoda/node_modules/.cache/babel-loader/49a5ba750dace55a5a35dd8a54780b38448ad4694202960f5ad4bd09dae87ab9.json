{"ast":null,"code":"var _jsxFileName = \"/Users/hiephuynh/Documents/apps/movie (assessment)/movie-react-app/popcornsoda/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport MovieDetails from \"./components/MovieDetails\";\nimport MovieList from \"./components/MovieList\";\nimport NavBar from \"./components/NavBar\";\nimport FavoriteList from \"./components/FavoriteList\";\nimport { Search } from \"./components/Search\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst tempMovieData = [\n  // {\n  //   id: \"1236470\",\n  //   title: \"The Lost Bus\",\n  //   release_date: \"2025-09-19\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/zpygCOYY1DPBkeUsrrznLRN5js5.jpg\",\n  // },\n  // {\n  //   id: \"941109\",\n  //   title: \"Play Dirty\",\n  //   release_date: \"2025-09-30\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/ovZ0zq0NwRghtWI1oLaM0lWuoEw.jpg\",\n  // }\n];\nconst tempFavoriteData = [\n  // {\n  //   id: \"617126\",\n  //   title: \"The Fantastic 4: First Steps\",\n  //   release_date: \"2025-07-22\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/cm8TNGBGG0aBfWj0LgrESHv8tir.jpg\",\n  //   runtime: 148,\n  //   voteAverge: 8.8\n  // },\n  // {\n  //   id: \"1242404\",\n  //   title: \"Steve\",\n  //   release_date: \"2025-07-22\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/wmLoMyofbseLfxiGgk1Iz5H97c3.jpg\",\n  //   runtime: 116,\n  //   voteAverge: 8.5\n  // },\n];\nconst imageBaseUrl = \"https://image.tmdb.org/t/p/w500\";\nasync function fetchTrendingMovies(query) {\n  try {\n    const res = await fetch(`http://localhost:8080/tmdb/trending/movie?time_frame=${query}`);\n    const data = await res.json();\n    const updatedMovies = data.map(movie => ({\n      ...movie,\n      poster: imageBaseUrl + movie.poster_path\n    }));\n    return updatedMovies;\n  } catch (error) {\n    console.error(\"Error fetching movies:\", error);\n    return [];\n  }\n}\nexport default function App() {\n  _s();\n  const [movies, setMovies] = useState(tempMovieData);\n  const [favorite, setFavorite] = useState(() => {\n    const storedFav = localStorage.getItem('favorite');\n    return storedFav ? JSON.parse(storedFav) : tempFavoriteData;\n  });\n  const [query, setQuery] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n  function handleSelectMovie(id) {\n    setSelectedId(id == selectedId ? null : id);\n  }\n  function handleCloseMovie() {\n    setSelectedId(null);\n  }\n  function handleAddFavorite(movie) {\n    setFavorite(fav => [...fav, movie]);\n  }\n  useEffect(() => {\n    localStorage.setItem('favorite', JSON.stringify(favorite));\n  }, [favorite]);\n  useEffect(function () {\n    async function fetchMovies() {\n      if (!query) return; // do nothing if no selection\n\n      //check cache before fetching\n      const cache = localStorage.getItem(`movies-${query}`);\n      if (cache) {\n        setMovies(JSON.parse(cache));\n        return;\n      }\n      const movies = await fetchTrendingMovies(query);\n      setMovies(movies);\n\n      //cache results\n      localStorage.setItem(`movies-${query}`, JSON.stringify(movies));\n    }\n    fetchMovies(query);\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        query: query,\n        setQuery: setQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: [/*#__PURE__*/_jsxDEV(ListBox, {\n        children: /*#__PURE__*/_jsxDEV(MovieList, {\n          movies: movies,\n          onSelectMovie: handleSelectMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListBox, {\n        children: selectedId ? /*#__PURE__*/_jsxDEV(MovieDetails, {\n          selectedId: selectedId,\n          onCloseMovie: handleCloseMovie,\n          onAddFavorite: handleAddFavorite,\n          imageBaseUrl: imageBaseUrl,\n          favorite: favorite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(FavoriteList, {\n          favorite: favorite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"e2u5mI1ah5wKoNf/pN4Hr5lx0H0=\");\n_c = App;\nfunction ListBox({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n_c2 = ListBox;\nfunction Main({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Main;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"ListBox\");\n$RefreshReg$(_c3, \"Main\");","map":{"version":3,"names":["useEffect","useState","MovieDetails","MovieList","NavBar","FavoriteList","Search","jsxDEV","_jsxDEV","Fragment","_Fragment","tempMovieData","tempFavoriteData","imageBaseUrl","fetchTrendingMovies","query","res","fetch","data","json","updatedMovies","map","movie","poster","poster_path","error","console","App","_s","movies","setMovies","favorite","setFavorite","storedFav","localStorage","getItem","JSON","parse","setQuery","selectedId","setSelectedId","handleSelectMovie","id","handleCloseMovie","handleAddFavorite","fav","setItem","stringify","fetchMovies","cache","children","fileName","_jsxFileName","lineNumber","columnNumber","Main","ListBox","onSelectMovie","onCloseMovie","onAddFavorite","_c","className","_c2","_c3","$RefreshReg$"],"sources":["/Users/hiephuynh/Documents/apps/movie (assessment)/movie-react-app/popcornsoda/src/App.js"],"sourcesContent":["import {useEffect, useState } from \"react\";\nimport MovieDetails from \"./components/MovieDetails\";\nimport MovieList from \"./components/MovieList\";\nimport NavBar from \"./components/NavBar\";\nimport FavoriteList from \"./components/FavoriteList\";\nimport { Search } from \"./components/Search\";\nconst tempMovieData = [\n  // {\n  //   id: \"1236470\",\n  //   title: \"The Lost Bus\",\n  //   release_date: \"2025-09-19\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/zpygCOYY1DPBkeUsrrznLRN5js5.jpg\",\n  // },\n  // {\n  //   id: \"941109\",\n  //   title: \"Play Dirty\",\n  //   release_date: \"2025-09-30\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/ovZ0zq0NwRghtWI1oLaM0lWuoEw.jpg\",\n  // }\n];\n\nconst tempFavoriteData = [\n  // {\n  //   id: \"617126\",\n  //   title: \"The Fantastic 4: First Steps\",\n  //   release_date: \"2025-07-22\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/cm8TNGBGG0aBfWj0LgrESHv8tir.jpg\",\n  //   runtime: 148,\n  //   voteAverge: 8.8\n  // },\n  // {\n  //   id: \"1242404\",\n  //   title: \"Steve\",\n  //   release_date: \"2025-07-22\",\n  //   poster:\n  //     \"https://image.tmdb.org/t/p/w500/wmLoMyofbseLfxiGgk1Iz5H97c3.jpg\",\n  //   runtime: 116,\n  //   voteAverge: 8.5\n  // },\n];\nconst imageBaseUrl = \"https://image.tmdb.org/t/p/w500\";\n\nasync function fetchTrendingMovies(query){\n    try {\n    const res= await fetch(`http://localhost:8080/tmdb/trending/movie?time_frame=${query}`);\n    const data= await res.json(); \n    const updatedMovies = data.map(movie => ({\n        ...movie,\n        poster: imageBaseUrl + movie.poster_path,\n      }));\n      return updatedMovies;\n    }\n   catch (error) {\n    console.error(\"Error fetching movies:\", error);\n    return [];\n  }\n}  \n\nexport default function App() {\n  const [movies, setMovies] = useState(tempMovieData);\n  const [favorite, setFavorite] = useState(() => {\n    const storedFav= localStorage.getItem('favorite');\n    return storedFav ? JSON.parse(storedFav) : tempFavoriteData;\n  });\n  const [query, setQuery] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n\n  function handleSelectMovie(id) {\n    setSelectedId((id)==selectedId?null:id);\n  }\n\n  function handleCloseMovie() {\n    setSelectedId(null);\n  }\n\n  function handleAddFavorite(movie) {\n    setFavorite((fav) => [...fav, movie]);\n  }\n\n  useEffect(()=>{\n    localStorage.setItem('favorite', JSON.stringify(favorite)); \n  },[favorite]);\n\n  useEffect(function() {\n   async function fetchMovies() {\n     if (!query) return; // do nothing if no selection\n\n     //check cache before fetching\n     const cache= localStorage.getItem(`movies-${query}`);\n     if(cache){\n      setMovies(JSON.parse(cache));\n      return;\n     }\n    const movies = await fetchTrendingMovies(query);\n    setMovies(movies);\n\n    //cache results\n    localStorage.setItem(`movies-${query}`, JSON.stringify(movies));\n   }\n  \n  \n   fetchMovies(query);\n\n  },[query])\n\n\n  return (\n    <>\n      <NavBar >\n        <Search query={query} setQuery={setQuery}/>\n      </NavBar>\n      \n      <Main >\n        <ListBox >\n          <MovieList movies={movies} onSelectMovie={handleSelectMovie}/>\n        </ListBox>\n        <ListBox>\n          {\n            selectedId ? (<MovieDetails selectedId={selectedId} onCloseMovie={handleCloseMovie} \n            onAddFavorite={handleAddFavorite}\n            imageBaseUrl={imageBaseUrl}\n            favorite={favorite}\n            />) :\n            <FavoriteList favorite={favorite}/>\n          }\n        </ListBox>\n      </Main>\n    </>\n  );\n}\n\n\n\nfunction ListBox({children}){\n  return(\n    <div className=\"box\">\n      {children}\n    </div>\n  )\n}\n\n\nfunction Main({children}) {\n  return(\n    <main className=\"main\">\n      {children}\n    </main>\n  )\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}