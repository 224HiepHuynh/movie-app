{"ast":null,"code":"var _jsxFileName = \"/Users/hiephuynh/Documents/apps/movie (assessment)/movie-react-app/popcornsoda/src/components/MovieDetails.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MovieDetails({\n  selectedId,\n  onCloseMovie,\n  imageBaseUrl,\n  onAddFavorite,\n  favorite\n}) {\n  _s();\n  const [movieDetails, setMovieDetails] = useState({});\n  const isFavorite = favorite.map(movie => movie.id).includes(selectedId);\n  const {\n    id,\n    title,\n    release_date: release,\n    overview,\n    genres,\n    runtime,\n    vote_average: rating,\n    poster\n  } = movieDetails;\n  function handleAdd() {\n    const favMovie = {\n      id,\n      title,\n      rating,\n      runtime,\n      poster\n    };\n    onAddFavorite(favMovie);\n    localStorage.setItem('favorite', JSON.stringify(favorite));\n    onCloseMovie(id);\n  }\n  useEffect(function () {\n    async function fetchMovieDetails() {\n      try {\n        const res = await fetch(`http://localhost:8080/tmdb/trending/movie/${selectedId}`);\n        const data = await res.json();\n        const updatedMovie = {\n          ...data,\n          poster: imageBaseUrl + data.poster_path\n        };\n        console.log(updatedMovie);\n        setMovieDetails(updatedMovie);\n      } catch (err) {\n        console.error('Error fetching movie details:', err);\n      }\n    }\n    fetchMovieDetails();\n  }, [selectedId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"details\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-back\",\n        onClick: onCloseMovie,\n        children: \" \\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: poster,\n        alt: `poster of ${movieDetails} movie`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-overview\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [release, \"\\u2022\", runtime, \" min\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2B50\", rating]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: genres === null || genres === void 0 ? void 0 : genres.map(g => g.name).join(\", \")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [!isFavorite && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-add\",\n          onClick: handleAdd,\n          children: \"Add to favorites\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: overview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieDetails, \"XPQgXvXctq5H5k3xDf6tfzGm0JA=\");\n_c = MovieDetails;\nvar _c;\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","MovieDetails","selectedId","onCloseMovie","imageBaseUrl","onAddFavorite","favorite","_s","movieDetails","setMovieDetails","isFavorite","map","movie","id","includes","title","release_date","release","overview","genres","runtime","vote_average","rating","poster","handleAdd","favMovie","localStorage","setItem","JSON","stringify","fetchMovieDetails","res","fetch","data","json","updatedMovie","poster_path","console","log","err","error","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","g","name","join","_c","$RefreshReg$"],"sources":["/Users/hiephuynh/Documents/apps/movie (assessment)/movie-react-app/popcornsoda/src/components/MovieDetails.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport default  function MovieDetails({selectedId, onCloseMovie,imageBaseUrl, onAddFavorite, favorite}) {\n    const [movieDetails, setMovieDetails] = useState({});\n    const isFavorite = favorite.map((movie) => movie.id).includes(selectedId);\n\n    const {\n      id,\n      title,\n      release_date:release,\n      overview,\n      genres,\n      runtime,\n      vote_average:rating, \n      poster\n    }=movieDetails;\n\n\n  function handleAdd(){\n    const favMovie={\n      id,\n      title,\n      rating,\n      runtime,\n      poster\n    };\n    onAddFavorite(favMovie);\n    localStorage.setItem('favorite', JSON.stringify(favorite));\n    onCloseMovie(id);\n  }\n\n    useEffect(function(){\n    async function fetchMovieDetails() {\n      try{\n\n        const res=await fetch(`http://localhost:8080/tmdb/trending/movie/${selectedId}`)\n        const data= await res.json();\n        const updatedMovie={...data,\n        poster: imageBaseUrl + data.poster_path,};\n        console.log(updatedMovie);\n        setMovieDetails(updatedMovie);\n      }\n      catch(err){\n        console.error('Error fetching movie details:', err);\n      }\n    }\n   fetchMovieDetails();\n  },[selectedId]);\n\n  return(\n    <div className=\"details\">\n      <header>\n        \n        <button className=\"btn-back\" onClick={onCloseMovie}> &larr;</button>\n        <img src={poster} alt={`poster of ${movieDetails} movie`} />\n        <div className=\"details-overview\">\n          <h2>{title} </h2>\n          <p>{release}&bull;{runtime} min</p>\n          <p>‚≠ê{rating}</p>\n          <p>{genres?.map((g) => g.name).join(\", \")}</p>\n        </div>\n      </header>\n\n      <section>\n        {!isFavorite &&\n          <>\n            <button className=\"btn-add\" \n            onClick={handleAdd}\n            >Add to favorites</button>\n          </>\n        }\n            <p>{overview}</p>\n      </section>\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}